<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<link rel="stylesheet" href="../reset.css">
	<link rel="stylesheet" href="sidenav.css">

	<style>
        /* unrelated */

        * { box-sizing: border-box; }
		
		body {
			font: 400 16px/1.5 'Helvetica Neue', sans-serif;
			padding: 45px;
		}
	</style>
</head>
<body>

	<nav class="sidenav">
			
		<h3 class="sidenav__title">Sidenav</h3>
	
		<ul class="sidenav__list">

			<li class="sidenav__item">
				<a class="sidenav__link" href="#">One<span class="sidenav__span">6</span></a>
			</li>

			<li class="sidenav__item sidenav__item--has-sub">
				<a class="sidenav__link" href="#">Two</a>

				<ul class="sidenav__list sidenav__list-lv2">
					<li class="sidenav__item">
						<a class="sidenav__link sidenav__link-lv2" href="#">Two - One</a>
					</li>
					<li class="sidenav__item sidenav__item--has-sub">
						<a class="sidenav__link sidenav__link-lv2" href="#">Two - Two</a>

						<ul class="sidenav__list sidenav__list-lv3">
							<li class="sidenav__item">
								<a href="#" class="sidenav__link sidenav__link-lv3">Three - One</a>
							</li>
							<li class="sidenav__item">
								<a href="#" class="sidenav__link sidenav__link-lv3">Three - Two</a>
							</li>
						</ul>

					</li>
				</ul>

			</li>
			<li class="sidenav__item">
				<a class="sidenav__link" href="#">Three</a>
			</li>
		</ul>
	
	</nav>

<script>
	// retrieve all ul's with a class that contains "sidenav__list-lv"
	const subMenus = document.querySelectorAll('ul[class*="sidenav__list-lv"]');

		// run a function for each submenu
		subMenus.forEach(function(subMenu) { 	

			// add a listener for clicks to the previous sibling element
			// in this case the a.sidenav__link
			subMenu.previousElementSibling.addEventListener('click', function(e) {

				// prevent browser default behaviour
				e.preventDefault();

				// toggle class to the submenu's parent which in this case is the li
				subMenu.parentNode.classList.toggle('sidenav__item--is-active');
				
			});

		});
</script>

</body>
</html>